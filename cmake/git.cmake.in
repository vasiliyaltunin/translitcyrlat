# Подключаем модуль FetchContent
include(FetchContent)

# Отключаем тихий режим работы FetchContent
set(FETCHCONTENT_QUIET FALSE)

# Задаем настройки для загрузки из git-репозитория
FetchContent_Declare(
  stringutils  # Имя target нашей библиотеки, должно совпадать с используемым далее 
  GIT_REPOSITORY https://github.com/vasiliyaltunin/stringutils.git # Путь до репозитория
  GIT_SHALLOW TRUE # Загружаем только последние коммиты
  GIT_PROGRESS TRUE # Отображаем процесс загрузки
  USES_TERMINAL_DOWNLOAD TRUE # Отображать прогресс в терминале (только для Ninja)
  EXCLUDE_FROM_ALL TRUE # Не устанавливать саму библиотеку при использовании cmake --install  
)

# Запускаем загрузку из git-репозитория и подключение библиотеки если она не 
# была ранее загружена
if(NOT stringutils_POPULATED)
    FetchContent_MakeAvailable(stringutils)
endif()
