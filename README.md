# TranslytCyrLat библиотека для транслитерации с русского на латинский

**Cодержание**

- [Описание библиотеки](#описание-библиотеки)
  - [Возможности](#возможности)
    - [Поддерживаемые платформы](#поддерживаемые-платформы)
    - [Статус поддержки](#статус-поддержки)
- [Требования](#требования)
  - [Стандарты C++](#стандарты-c)
  - [Зависимости](#зависимости)
  - [Установка зависимостей](#установка-зависимостей)
    - [Установка Msys2](#установка-msys2)
    - [Установка Gtest](#установка-gtest)
    - [Установка Doxygen](#установка-doxygen)
- [Как собрать библиотеку](#как-собрать-библиотеку)
  - [Использование CMake](#использование-cmake)
     - [Встраиваемая библиотека](#встраиваемая-библиотека)
     - [Статическая и разделяемая библиотеки](#статическая-и-разделяемая-библиотеки)
- [Опции CMake](#опции-cmake)
     - [Сборка документации](#сборка-документации)
     - [Сборка примеров](#сборка-примеров)
- [Как использовать библиотеку](#как-использовать-библиотеку)
  - [Установка](#установка)
  - [Использование](#использование)
  - [Подключение библиотеки из Git репозитория
](#подключение-библиотеки-из-git-репозитория)
  - [Примеры использования](#примеры-использования)
- [Версии библиотеки](#версии-библиотеки)
- [Совместимость](#совместимость)
- [Документация](#документация)
- [Лицензия](#лицензия)

<a name="описание-библиотеки"></a>
## Описание библиотеки

<a name="возможности"></a>
### Возможности
Транслитерация с русского на латинский:
- режим ГОСТ
- упрощенный режим для создания e-mail и логинов.

<a name="поддерживаемые-платформы"></a>
### Поддерживаемые платформы

<a name="статус-поддержки"></a>
#### Статус поддержки
- Windows - поддерживается Windows 10
- Linux - в настоящий момент неизвестно

<a name="требования"></a>
## Требования

<a name="стандарты-c"></a>
### Стандарты C++
Библиотека поддерживает стандарт **C++ 17** и выше

<a name="зависимости"></a>
### Зависимости
- Библиотека собирается с использованием MSYS2 и компилятора GCC.
- Для тестирования используется GoogleTests (gtest)
- Для создания документации используется Doxygen

<a name="установка-зависимостей"></a>
#### Установка зависимостей

<a name="установка-msys2"></a>
##### Установка Msys2
Установка рассмотрена в [статье](https://blog.altuninvv.ru/index.php/qt/qt6/установка-qt-660-с-помощью-msys2-в-windows-10)


<a name="установка-gtest"></a>
##### Установка GTest
```shell 
pacman -S mingw-w64-x86_64-gtest
```

<a name="установка-doxygen"></a>
##### Установка Doxygen
```shell 
pacman -S mingw-w64-x86_64-doxygen
```

<a name="как-собрать-библиотеку"></a>
## Как собрать библиотеку

<a name="использование-cmake"></a>
### Использование CMake
Из папки с проектом запустите конфигурирование:
```shell
cmake -S . -B build
```
Запустите сборку:
```shell
cmake --build build
```

<a name="встраиваемая-библиотека"></a>
#### Встраиваемая библиотека
Данная библиотека может использоваться в качестве _встраиваемой_ как папка в папке проекта :
Чтобы добавить библиотеку в ваш проект CMake:
- Загрузите исходный код библиотеки и создайте для него отдельную папку в корне проекта.
- В **главный** файл CMakeLists.txt добавьте :
  ```cmake
  # Если вы разместили библиотеку в папке lib
  add_subdirectory(lib/translitcyrlat)
  ```

<a name="статическая-и-разделяемая-библиотеки"></a>
### Статическая и разделяемая библиотеки
Данная библиотека может собираться с внешним проектом в качестве статической или разделяемой:
В **главный** файл CMakeLists.txt добавьте :
```cmake
# ON - для сборки разделяемой, OFF - для сборки статической
option(BUILD_SHARED_LIBS "Build using shared libraries" OFF)
```

```cmake
target_link_libraries(${PROJECT_NAME} PRIVATE altuninvv::translitcyrlat)
```

<a name="опции-cmake"></a>
### Опции CMake
Библиотека предоставляет следующие опции **CMake**:
- BUILD_SHARED_LIBS = ON | OFF
   - ON - собирать как разделяемую библиотеку
   - OFF - собирать как статическую библиотеку
   Использование:
   ```shell
   cmake -S . -B build -DBUILD_SHARED_LIBS=OFF
   ```
- BUILD_EXTERNAL_DOCS = ON | OFF
   - ON - собирать внешнюю документацию
   - OFF - собирать внутреннюю документацию
   Использование:
   ```shell
   cmake -S . -B build -DBUILD_EXTERNAL_DOCS=OFF
   ```
<a name="сборка-документации"></a>
#### Сборка документации
Для сборки документации, после выполнения конфигурирования запустите:
```shell
cmake --build build --target docs
```

<a name="сборка-примеров"></a>
#### Сборка примеров
Для сборки примеров, после выполнения конфигурирования запустите:
```shell
cmake --build build --target examples
```

<a name="как-использовать-библиотеку"></a>
## Как использовать библиотеку

<a name="установка"></a>
### Установка
Для установки в Msys2 запустите:
```shell
cmake --install build --prefix=C:\msys64\mingw64
```

<a name="использование"></a>
### Использование
Добавьте заголовочный файл:
```cpp
#include <translitlatcyr/translitcyrlat.h>
```
Добавьте в начало файла:

```cpp
using namespace altuninvv::string;
```

<a name="подключение-библиотеки-из-git-репозитория"></a>
#### Подключение библиотеки из Git репозитория

Для подключения из Git-репозитория добавьте код в ваш проект CMake

```cmake
# Подключаем модуль FetchContent
include(FetchContent)

# Отключаем тихий режим работы FetchContent
set(FETCHCONTENT_QUIET FALSE)

# Задаем настройки для загрузки из git-репозитория
FetchContent_Declare(
  stringutils  # Имя target нашей библиотеки, должно совпадать с используемым далее 
  GIT_REPOSITORY https://github.com/vasiliyaltunin/translitlatcyr.git # Путь до репозитория
  GIT_SHALLOW TRUE # Загружаем только последние коммиты
  GIT_PROGRESS TRUE # Отображаем процесс загрузки
  USES_TERMINAL_DOWNLOAD TRUE # Отображать прогресс в терминале (только для Ninja)
  EXCLUDE_FROM_ALL TRUE # Не устанавливать саму библиотеку при использовании cmake --install  
)

# Запускаем загрузку из git-репозитория и подключение библиотеки если она не 
# была ранее загружена
if(NOT translitlatcyr_POPULATED)
    FetchContent_MakeAvailable(translitlatcyr)
endif()

target_include_directories(${PROJECT_NAME} PRIVATE ${translitlatcyr_SOURCE_DIR}/include)

target_link_libraries(${PROJECT_NAME}
    PRIVATE  
    altuninvv::translitcyrlat
)

```
После этого можно просто добавить в исходный код проекта заголовочный файл:
```cpp
#include "translitcyrlat/translitcyrlat.h"
```
и директиву:

```cpp
using namespace altuninvv::string;
```

<a name="примеры-использования"></a>
### Примеры использования
Код с примерами использования библиотеки вы найдете в папке `examples`

<a name="версии-библиотеки"></a>
### Версии библиотеки

<a name="совместимость"></a>
#### Совместимость
Проблем с совместимостью не обнаружено.

<a name="документация"></a>
## Документация
Все классы и функции были задокументированы с помощью Doxygen.

Чтобы собрать документацию запустите:
```shell
cmake --build build --target docs
```
В папке `./build/docs/html/` будет создана документация.

<a name="лицензия"></a>
## Лицензия
Эта библиотека лицензирована под [лицензией GPLv3][repo-license-url].
<!-- Ссылки -->
[repo-license-url]: https://www.gnu.org/licenses/gpl-3.0.html